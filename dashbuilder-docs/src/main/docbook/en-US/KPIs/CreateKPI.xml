<?xml version="1.0" encoding="UTF-8"?>
<section version="5.0"
         xsi:schemaLocation="http://docbook.org/ns/docbook http://www.docbook.org/xml/5.0/xsd/docbook.xsd http://www.w3.org/1999/xlink http://www.docbook.org/xml/5.0/xsd/xlink.xsd"
         xml:base="./" xml:id="sect-dashbuilder-kpis-create_kpi"
         xmlns="http://docbook.org/ns/docbook"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xmlns:xs="http://www.w3.org/2001/XMLSchema"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:ns="http://docbook.org/ns/docbook">

  <title>Creating a KPI</title>

  <para>Once the necessary data providers have been created, you can continue
    by adding a new Key Performance Indicator to an existing page. All
    dashboards are created by adding indicators and other types of panels to
    pages. A dashboard is a page with a mixture of different kind of panels
    placed into it. The following screenshot shows an example of a
    <emphasis>Sales Dashboard</emphasis>:
  </para>

  <figure>
    <title>Sales dashboard example</title>
    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="images/KPIs/SalesDashboard.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
  </figure>

  <para/>

  <para>Pages can be created from scratch, or duplicating an existing one.
    Both options are explained in the following sections. Meanwhile we will
    assume the page already exists and we only want to add an indicator.
  </para>

  <figure>
    <title>Page layout with en empty region on the center</title>
    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="images/KPIs/PageWithEmptyRegion.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
  </figure>

  <para>Indicators are a special type of panels, which are the widgets that
    can be placed within the page. To add a panel or indicator just click on the
    toolbar icon '<emphasis>Add panel to the current page</emphasis>':
  </para>

  <para>
    <mediaobject>
      <imageobject>
        <imagedata align="left" fileref="images/KPIs/AddPanelIcon.png" width="18"/>
      </imageobject>
    </mediaobject>
    This will make a popup be shown with all the available panels:
  </para>

  <figure>
    <title>Panel instance selector</title>
    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="images/KPIs/PanelSelectorPopup.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
  </figure>

  <para>To add a new '<emphasis>Key Performance Indicator</emphasis>', click
    on<emphasis>Dashboard &gt; Key Perfomance Indicator</emphasis>. Drag the
    '<emphasis>Create panel</emphasis>' option and drop it into any of the page
    regions. You will see that they are being highlighted while you move the
    mouse over them, then simply drop the panel.
  </para>

  <figure>
    <title>Drag and drop of a panel instance into an empty region</title>
    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="images/KPIs/DragAndDropPanelToRegion.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
  </figure>

  <para>Once dropped, the first step is to select the
    <emphasis>Data Provider</emphasis>
    you need to use, as configured before, to feed the
    charts and reports with data. Select any of the data providers and then you
    can start creating a new indicator.
  </para>

  <figure>
    <title>KPI creation - Data provider selector</title>
    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="images/KPIs/KPIPanelDataProviderSelector.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
  </figure>

  <para>Now, you must see the chart edition panel. It's an intuitive
    environment which helps you configure different type of charts and
    reports...
  </para>

  <table align="center" border="0" floatstyle="">
    <tr>
      <td>
        <figure>
          <title>KPI configuration panel</title>
          <screenshot>
            <mediaobject>
              <imageobject>
                <imagedata align="center" fileref="images/KPIs/KPIPanelEditionPopup.png"/>
              </imageobject>
            </mediaobject>
          </screenshot>
        </figure>
      </td>

      <td valign="top">
        <mediaobject>
          <imageobject>
            <imagedata align="left" fileref="images/KPIs/BarChartIcon.png"/>
          </imageobject>
        </mediaobject>

        <mediaobject>
          <imageobject>
            <imagedata align="left" fileref="images/KPIs/LineChartIcon.png"/>
          </imageobject>
        </mediaobject>

        <mediaobject>
          <imageobject>
            <imagedata align="left" fileref="images/KPIs/DataTableIcon.png"/>
          </imageobject>
        </mediaobject>

        <mediaobject>
          <imageobject>
            <imagedata align="left" fileref="images/KPIs/PieChartIcon.png"/>
          </imageobject>
        </mediaobject>
      </td>
    </tr>
  </table>

  <itemizedlist>
    <listitem>
      <para><emphasis role="bold">Domain (X Axis)</emphasis>: The data column
        that is taken as the X axis. In this example, we choose the property
        'Country'.
      </para>
    </listitem>

    <listitem>
      <para><emphasis role="bold">Range (Y Axis)</emphasis>: Information to be
        grouped and aggregated for every domain interval. For example:
        'Amount'.
      </para>
    </listitem>

    <listitem>
      <para><emphasis role="bold">Renderer</emphasis>: The rendering library to use.
        Each one provides different features and visualization style. By default 'NVD3'.
      </para>
    </listitem>

    <listitem>
      <para><emphasis role="bold">Sort intervals by</emphasis>: It's how the
        domain values can be sorted, for example, according to its range
        value.
      </para>
    </listitem>

    <listitem>
      <para><emphasis role="bold">Sort order</emphasis>: It can be ascending
        or descending.
      </para>
    </listitem>
  </itemizedlist>

  <para>To finish the panel edition just close the panel edition window. If
    you want to get back again, just click on the right upper corner of the
    panel area and select the '<emphasis>Edit content</emphasis>' menu
    option.
  </para>

  <figure>
    <title>Panel administration menu - Edit content option</title>
    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="images/KPIs/PanelMenuOptionEditContent.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
  </figure>

  <para>The system provides you with 3 types of chart displayers: <emphasis
      role="bold">bar</emphasis>,
    <emphasis role="bold">pie</emphasis>
    and
    <emphasis role="bold">line</emphasis>, and a special <emphasis
        role="bold">table displayer
    </emphasis>
    very useful to create tabular
    reports. The system also comes with 2 rendering engines:
    <emphasis
        role="bold">NVD3
    </emphasis>
    (pure HTML5/SVG technology) and a Flash based
    one, <emphasis role="bold">Open Flash Chart 2</emphasis>. Each renderer has
    its own available features, so depending on the type of chart and renderer
    choosen you can end up with some display features enabled or disabled
    depending the case. For instance, the '<emphasis>Paint area</emphasis>'
    feature is not available for OFC2 line charts.
  </para>

  <para/>
</section>
