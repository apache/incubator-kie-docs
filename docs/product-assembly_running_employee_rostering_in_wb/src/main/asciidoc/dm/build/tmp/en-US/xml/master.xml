<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE book [
<!ENTITY % BOOK_ENTITIES SYSTEM "master.ent">
%BOOK_ENTITIES;
<!ENTITY % sgml.features "IGNORE">
<!ENTITY % xml.features "INCLUDE">
<!ENTITY % DOCBOOK_ENTS PUBLIC "-//OASIS//ENTITIES DocBook Character Entities V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/dbcentx.mod">
%DOCBOOK_ENTS;
]>
<book version="5.0" xml:lang="en-US" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
	<?asciidoc-toc ?><?asciidoc-numbered ?>
	<info>
		<title>Running the employee rostering sample project in Decision Central</title>
		<subtitle> For Red Hat Decision Manager 7.0 </subtitle>
		 <date>2018-03-13</date>
		<xi:include href="Author_Group.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
		<authorinitials>RC</authorinitials><productname>Red Hat Decision Manager</productname>
		<productnumber>7.0</productnumber>
		<abstract>
			<para>
				Create and run the Employee Rostering example for Red Hat Business Optimizer.
			</para>
		</abstract>
		<xi:include href="Common_Content/Legal_Notice.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
	</info>
	<preface>
		<title>Preface</title>
		<simpara>
			As a business rules developer, you can test and interact with the Red Hat Business Optimizer functionality using the preconfigured <literal>employee-rostering</literal> sample project included in the Red Hat Decision Manager distribution.
		</simpara>
		<itemizedlist>
			<title>Prerequisite</title>
			<listitem>
				<simpara>
					Installed Red Hat JBoss Enterprise Application Platform 7.1.0. See <link xlink:href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.1/html-single/installation_guide/"><emphasis>Red Hat JBoss EAP 7.1.0 Installation Guide</emphasis></link>.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					Installed Red Hat Decision Manager. For more information, see <link xlink:href="https://access.redhat.com/documentation/en-us/red_hat_decision_manager/7.0/html-single/installing_red_hat_decision_manager_on_premise"><emphasis>Installing Red Hat Decision Manager on premise</emphasis></link>.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					Red Hat Decision Manager is running and you can log in to Decision Central with the <literal>admin</literal> role. For more information, see <link xlink:href="https://access.redhat.com/documentation/en-us/red_hat_decision_manager/7.0/html-single/installing_red_hat_decision_manager_on_premise"><emphasis>Installing Red Hat Decision Manager on premise</emphasis></link>.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					Red Hat Decision Manager is configured for Red Hat Business Optimizer. For more information about the required configuration, see <link xlink:href="https://access.redhat.com/documentation/en-us/red_hat_decision_manager/7.0/html-single/installing_and_configuring_business_optimizer"><emphasis>Installing and configuring Red Hat Business Optimizer</emphasis></link>.
				</simpara>
			</listitem>
		</itemizedlist>
	</preface>
	<chapter xml:id="wb-employee-rostering-example-deploying-in-central-proc">
		<title>Deploy the employee rostering sample project in Decision Central</title>
		<simpara>
			Decision Central includes a number of sample projects that you can use to get familiar with the product and its features. The employee rostering sample project has been designed and created to demonstrate the shift rostering use case for Red Hat Business Optimizer. Use the following procedure to deploy and run the employee rostering sample in Decision Central.
		</simpara>
		<itemizedlist>
			<title>Prerequisite</title>
			<listitem>
				<simpara>
					Red Hat Decision Manager has been downloaded and installed.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					You have started the decision server and logged in to Decision Central with a user that has <literal>admin</literal> permissions.
				</simpara>
			</listitem>
		</itemizedlist>
		<simpara>
			For more information about installation see <link xlink:href="https://access.redhat.com/documentation/en-us/red_hat_decision_manager/7.0/html-single/installing_red_hat_decision_manager_on_premise"><emphasis>Installing Red Hat Decision Manager on premise</emphasis></link>, or for getting started, see <link xlink:href="https://access.redhat.com/documentation/en-us/red_hat_decision_manager/7.0/html-single/getting_started_with_decision_services"><emphasis>Getting started with decision services</emphasis></link>
		</simpara>
		<orderedlist numeration="arabic">
			<title>Procedure</title>
			<listitem>
				<simpara>
					In Decision Central, click <emphasis role="strong">Menu</emphasis> → <emphasis role="strong">Design</emphasis> → <emphasis role="strong">Projects</emphasis>.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					In the preconfigured <literal>myteam</literal> space, click <emphasis role="strong">Try Samples</emphasis>.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					Select <emphasis role="strong">employee-rostering</emphasis> from the list of sample projects and click the <emphasis role="strong">Ok</emphasis> button in the upper right corner to import the project.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					Once the asset list has complied, click <emphasis role="strong">Build &amp; Deploy</emphasis> to deploy the employee rostering example.
				</simpara>
			</listitem>
		</orderedlist>
		<simpara>
			The rest of this document explains each of the project assets and their configuration.
		</simpara>
	</chapter>
	<chapter xml:id="wb-employee-rostering-example-setup-proc">
		<title>Set up the employee rostering sample project</title>
		<simpara>
			The employee rostering sample project is a preconfigured project available in Decision Central. You can learn about how to deploy this project in <xref linkend="wb-employee-rostering-example-deploying-in-central-proc" />.
		</simpara>
		<simpara>
			This chapter describes how to set up the employee rostering example in order to demonstrate a workflow for creating a similar project of your own in Decision Central.
		</simpara>
		<itemizedlist>
			<title>Prerequisite</title>
			<listitem>
				<simpara>
					Red Hat Decision Manager has been downloaded and installed.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					You have deployed Decision Central and logged in with a user that has the <literal>admin</literal> role.
				</simpara>
			</listitem>
		</itemizedlist>
		<orderedlist numeration="arabic">
			<title>Procedure</title>
			<listitem>
				<simpara>
					Create a new project in Decision Central by clicking <emphasis role="strong">Menu</emphasis> → <emphasis role="strong">Design</emphasis> → <emphasis role="strong">Projects</emphasis> → <emphasis role="strong">Add Project</emphasis>.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					In the <emphasis role="strong">Add Project</emphasis> window, fill out the following fields:
				</simpara>
				<itemizedlist>
					<listitem>
						<simpara>
							<emphasis role="strong">Name</emphasis>: <literal>employee-rostering</literal>
						</simpara>
					</listitem>
					<listitem>
						<simpara>
							<emphasis role="strong">Description</emphasis>(optional): Employee rostering problem optimization using Business Optimizer. Assigns employees to shifts based on their skill.
						</simpara>
					</listitem>
				</itemizedlist>
				<simpara>
					Optionally, you can also complete the <literal>Group ID</literal>, <literal>Artifact ID</literal>, and <literal>Version</literal> information by clicking <emphasis role="strong">Show Advanced Options</emphasis>.
				</simpara>
				<itemizedlist>
					<listitem>
						<simpara>
							<emphasis role="strong">Group ID</emphasis>: <literal>employeerostering</literal>
						</simpara>
					</listitem>
					<listitem>
						<simpara>
							<emphasis role="strong">Artifact ID</emphasis>: <literal>employeerostering</literal>
						</simpara>
					</listitem>
					<listitem>
						<simpara>
							<emphasis role="strong">Version</emphasis>: <literal>1.0.0-SNAPSHOT</literal>
						</simpara>
					</listitem>
				</itemizedlist>
			</listitem>
			<listitem>
				<simpara>
					Click <emphasis role="strong">Add</emphasis> to add the project to the Decision Central project repository.
				</simpara>
			</listitem>
		</orderedlist>
	</chapter>
	<chapter xml:id="wb-employee-rostering-data-model-proc">
		<title>Create the data model for the employee rostering project</title>
		<simpara>
			Use this section to create the data objects required to run the employee rostering sample project in Decision Central.
		</simpara>
		<formalpara>
			<title>Prerequisite</title>
			<para>
				You have completed the project set up described in <xref linkend="wb-employee-rostering-example-setup-proc" />.
			</para>
		</formalpara>
		<orderedlist numeration="arabic">
			<title>Procedure</title>
			<listitem>
				<simpara>
					With your new project, either click <emphasis role="strong">Data Object</emphasis> in the project perspective, or click <emphasis role="strong">Create New Asset</emphasis> → <emphasis role="strong">Data Object</emphasis> to create a new data object.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					Name the first data object <literal>Timeslot</literal>, and select <literal>employeerostering.employeerostering</literal> as the <emphasis role="strong">Package</emphasis>.
				</simpara>
				<simpara>
					Click <emphasis role="strong">Ok</emphasis>.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					In the <emphasis role="strong">Data Objects</emphasis> perspective, click <emphasis role="strong">+add field</emphasis> to add fields to the <literal>Timeslot</literal> data object.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					In the <emphasis role="strong">id</emphasis> field, type <literal>endTime</literal>.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					Click the drop-down menu next to <emphasis role="strong">Type</emphasis> and select <literal>LocalDateTime</literal>.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					Click <emphasis role="strong">Create and continue</emphasis> to add another field.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					Add another field with the <emphasis role="strong">id</emphasis> <literal>startTime</literal> and <emphasis role="strong">Type</emphasis> <literal>LocalDateTime</literal>.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					Click <emphasis role="strong">Create</emphasis>.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					Click <emphasis role="strong">Save</emphasis> in the upper right corner to save the <literal>Timeslot</literal> data object.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					Click the <emphasis role="strong">x</emphasis> in the upper right to close the <emphasis role="strong">Data Objects</emphasis> perspective and return to the <emphasis role="strong">Assets</emphasis> menu.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					Using the previous steps, create the following data objects and their fields:
				</simpara>
				<table colsep="1" frame="all" rowsep="1">
					<title>Skill</title>
					<tgroup cols="2">
						<colspec colname="col_1" colwidth="50*"></colspec>
						<colspec colname="col_2" colwidth="50*"></colspec>
						<thead>
							<row>
								<entry align="left" valign="top">id</entry>
								<entry align="left" valign="top">Type</entry>
							</row>
						</thead>
						<tbody>
							<row>
								<entry align="left" valign="top">
								<simpara>
									<literal>name</literal>
								</simpara>
								</entry>
								<entry align="left" valign="top">
								<simpara>
									<literal>String</literal>
								</simpara>
								</entry>
							</row>
						</tbody>
					</tgroup>
				</table>
				<table colsep="1" frame="all" rowsep="1">
					<title>Employee</title>
					<tgroup cols="2">
						<colspec colname="col_1" colwidth="50*"></colspec>
						<colspec colname="col_2" colwidth="50*"></colspec>
						<thead>
							<row>
								<entry align="left" valign="top">id</entry>
								<entry align="left" valign="top">Type</entry>
							</row>
						</thead>
						<tbody>
							<row>
								<entry align="left" valign="top">
								<simpara>
									<literal>name</literal>
								</simpara>
								</entry>
								<entry align="left" valign="top">
								<simpara>
									<literal>String</literal>
								</simpara>
								</entry>
							</row>
							<row>
								<entry align="left" valign="top">
								<simpara>
									<literal>skills</literal>
								</simpara>
								</entry>
								<entry align="left" valign="top">
								<simpara>
									<literal>employeerostering.employeerostering.Skill[List]</literal>
								</simpara>
								</entry>
							</row>
						</tbody>
					</tgroup>
				</table>
				<table colsep="1" frame="all" rowsep="1">
					<title>Shift</title>
					<tgroup cols="2">
						<colspec colname="col_1" colwidth="50*"></colspec>
						<colspec colname="col_2" colwidth="50*"></colspec>
						<thead>
							<row>
								<entry align="left" valign="top">id</entry>
								<entry align="left" valign="top">Type</entry>
							</row>
						</thead>
						<tbody>
							<row>
								<entry align="left" valign="top">
								<simpara>
									<literal>requiredSkill</literal>
								</simpara>
								</entry>
								<entry align="left" valign="top">
								<simpara>
									<literal>employeerostering.employeerostering.Skill</literal>
								</simpara>
								</entry>
							</row>
							<row>
								<entry align="left" valign="top">
								<simpara>
									<literal>timeslot</literal>
								</simpara>
								</entry>
								<entry align="left" valign="top">
								<simpara>
									<literal>employeerostering.employeerostering.Timeslot</literal>
								</simpara>
								</entry>
							</row>
						</tbody>
					</tgroup>
				</table>
				<table colsep="1" frame="all" rowsep="1">
					<title>DayOffRequest</title>
					<tgroup cols="2">
						<colspec colname="col_1" colwidth="50*"></colspec>
						<colspec colname="col_2" colwidth="50*"></colspec>
						<thead>
							<row>
								<entry align="left" valign="top">id</entry>
								<entry align="left" valign="top">Type</entry>
							</row>
						</thead>
						<tbody>
							<row>
								<entry align="left" valign="top">
								<simpara>
									<literal>date</literal>
								</simpara>
								</entry>
								<entry align="left" valign="top">
								<simpara>
									<literal>LocalDate</literal>
								</simpara>
								</entry>
							</row>
							<row>
								<entry align="left" valign="top">
								<simpara>
									<literal>employee</literal>
								</simpara>
								</entry>
								<entry align="left" valign="top">
								<simpara>
									<literal>employeerostering.employeerostering.Employee</literal>
								</simpara>
								</entry>
							</row>
						</tbody>
					</tgroup>
				</table>
				<table colsep="1" frame="all" rowsep="1">
					<title>ShiftAssignment</title>
					<tgroup cols="2">
						<colspec colname="col_1" colwidth="50*"></colspec>
						<colspec colname="col_2" colwidth="50*"></colspec>
						<thead>
							<row>
								<entry align="left" valign="top">id</entry>
								<entry align="left" valign="top">Type</entry>
							</row>
						</thead>
						<tbody>
							<row>
								<entry align="left" valign="top">
								<simpara>
									<literal>employee</literal>
								</simpara>
								</entry>
								<entry align="left" valign="top">
								<simpara>
									<literal>employeerostering.employeerostering.Employee</literal>
								</simpara>
								</entry>
							</row>
							<row>
								<entry align="left" valign="top">
								<simpara>
									<literal>shift</literal>
								</simpara>
								</entry>
								<entry align="left" valign="top">
								<simpara>
									<literal>employeerostering.employeerostering.Shift</literal>
								</simpara>
								</entry>
							</row>
						</tbody>
					</tgroup>
				</table>
			</listitem>
		</orderedlist>
		<simpara>
			For more information about creating data objects, see <link xlink:href="https://access.redhat.com/documentation/en-us/red_hat_decision_manager/7.0/html-single/getting_started_with_decision_services"><emphasis>Getting started with decision services</emphasis></link>.
		</simpara>
		<section xml:id="wb-employee-rostering-planning-entity-proc">
			<title>Create the employee roster planning entity</title>
			<simpara>
				In order to solve the employee rostering planning problem, you must create a planning entity and a solver. The planning entity is defined in the domain editor using the attributes available in the Red Hat Business Optimizer dock.
			</simpara>
			<simpara>
				Use the following procedure to define the <literal>ShiftAssignment</literal> data object as the planning entity for the employee rostering example.
			</simpara>
			<itemizedlist>
				<title>Prerequisite</title>
				<listitem>
					<simpara>
						You have created the relevant data objects and planning entity required to run the employee rostering example by completing the procedures in <xref linkend="wb-employee-rostering-data-model-proc" />.
					</simpara>
				</listitem>
			</itemizedlist>
			<orderedlist numeration="arabic">
				<title>Procedure</title>
				<listitem>
					<simpara>
						From the project <emphasis role="strong">Assets</emphasis> menu, open the <literal>ShiftAssignment</literal> data object.
					</simpara>
				</listitem>
				<listitem>
					<simpara>
						In the <emphasis role="strong">Data Objects</emphasis> perspective, open the Red Hat Business Optimizer dock by clicking the 
						<inlinemediaobject>
							<imageobject>
								<imagedata fileref="images/topics/product-shared-docs/images/optimizer-icon.png" format="PNG" />
							</imageobject>
							<textobject>
								<phrase>Red Hat Business Optimizer icon</phrase>
							</textobject>
						</inlinemediaobject>
						 on the right.
					</simpara>
				</listitem>
				<listitem>
					<simpara>
						Select <emphasis role="strong">Planning Entity</emphasis>.
					</simpara>
				</listitem>
				<listitem>
					<simpara>
						Select <literal>employee</literal> from the list of fields under the <literal>ShiftAssignment</literal> data object.
					</simpara>
				</listitem>
				<listitem>
					<simpara>
						In the Red Hat Business Optimizer dock, select <emphasis role="strong">Planning Variable</emphasis>.
					</simpara>
					<simpara>
						In the <emphasis role="strong">Value Range Id</emphasis> input field, type <literal>employeeRange</literal>.
					</simpara>
				</listitem>
				<listitem>
					<simpara>
						Close the dock and click <emphasis role="strong">Save</emphasis> to save the data object.
					</simpara>
				</listitem>
			</orderedlist>
		</section>
		<section xml:id="wb-employee-rostering-planning-solution-proc">
			<title>Create the employee roster planning solution</title>
			<simpara>
				The employee roster problem relies on a defined planning solution, in addition to the planning entity. The planning solution is defined in the domain editor using the attributes available in the Red Hat Business Optimizer dock.
			</simpara>
			<itemizedlist>
				<title>Prerequisite</title>
				<listitem>
					<simpara>
						You have created the relevant data objects and planning entity required to run the employee rostering example by completing the procedures in <xref linkend="wb-employee-rostering-data-model-proc" /> and <xref linkend="wb-employee-rostering-planning-entity-proc" />.
					</simpara>
				</listitem>
			</itemizedlist>
			<orderedlist numeration="arabic">
				<title>Procedure</title>
				<listitem>
					<simpara>
						Create a new data object with the identifier <literal>EmployeeRoster</literal>.
					</simpara>
				</listitem>
				<listitem>
					<simpara>
						Create the following fields:
					</simpara>
					<table colsep="1" frame="all" rowsep="1">
						<title>EmployeeRoster</title>
						<tgroup cols="2">
							<colspec colname="col_1" colwidth="50*"></colspec>
							<colspec colname="col_2" colwidth="50*"></colspec>
							<thead>
								<row>
									<entry align="left" valign="top">id</entry>
									<entry align="left" valign="top">Type</entry>
								</row>
							</thead>
							<tbody>
								<row>
									<entry align="left" valign="top">
									<simpara>
										<literal>dayOffRequest</literal>
									</simpara>
									</entry>
									<entry align="left" valign="top">
									<simpara>
										<literal>employeerostering.employeerostering.DayOffRequest[List]</literal>
									</simpara>
									</entry>
								</row>
								<row>
									<entry align="left" valign="top">
									<simpara>
										<literal>shiftAssignmentList</literal>
									</simpara>
									</entry>
									<entry align="left" valign="top">
									<simpara>
										<literal>employeerostering.employeerostering.ShiftAssignment[List]</literal>
									</simpara>
									</entry>
								</row>
								<row>
									<entry align="left" valign="top">
									<simpara>
										<literal>shiftList</literal>
									</simpara>
									</entry>
									<entry align="left" valign="top">
									<simpara>
										<literal>employeerostering.employeerostering.Shift[List]</literal>
									</simpara>
									</entry>
								</row>
								<row>
									<entry align="left" valign="top">
									<simpara>
										<literal>skillList</literal>
									</simpara>
									</entry>
									<entry align="left" valign="top">
									<simpara>
										<literal>employeerostering.employeerostering.Skill[List]</literal>
									</simpara>
									</entry>
								</row>
								<row>
									<entry align="left" valign="top">
									<simpara>
										<literal>timeslotList</literal>
									</simpara>
									</entry>
									<entry align="left" valign="top">
									<simpara>
										<literal>employeerostering.employeerostering.Timeslot[List]</literal>
									</simpara>
									</entry>
								</row>
							</tbody>
						</tgroup>
					</table>
				</listitem>
				<listitem>
					<simpara>
						In the <emphasis role="strong">Data Objects</emphasis> perspective, open the Red Hat Business Optimizer dock by clicking the 
						<inlinemediaobject>
							<imageobject>
								<imagedata fileref="images/topics/product-shared-docs/images/optimizer-icon.png" format="PNG" />
							</imageobject>
							<textobject>
								<phrase>Red Hat Business Optimizer icon</phrase>
							</textobject>
						</inlinemediaobject>
						 on the right.
					</simpara>
				</listitem>
				<listitem>
					<simpara>
						Select <emphasis role="strong">Planing Solution</emphasis>.
					</simpara>
				</listitem>
				<listitem>
					<simpara>
						Leave the default <literal>Hard soft score</literal> as the <emphasis role="strong">Solution Score Type</emphasis>. This automatically generates a <literal>score</literal> field in the <literal>EmployeeRoster</literal> data object with the solution score as the type.
					</simpara>
				</listitem>
				<listitem>
					<simpara>
						Add a new field with the following attributes:
					</simpara>
					<informaltable colsep="1" frame="all" rowsep="1">
						<tgroup cols="2">
							<colspec colname="col_1" colwidth="50*"></colspec>
							<colspec colname="col_2" colwidth="50*"></colspec>
							<thead>
								<row>
									<entry align="left" valign="top">id</entry>
									<entry align="left" valign="top">Type</entry>
								</row>
							</thead>
							<tbody>
								<row>
									<entry align="left" valign="top">
									<simpara>
										<literal>employeeList</literal>
									</simpara>
									</entry>
									<entry align="left" valign="top">
									<simpara>
										<literal>employeerostering.employeerostering.Employee[List]</literal>
									</simpara>
									</entry>
								</row>
							</tbody>
						</tgroup>
					</informaltable>
				</listitem>
				<listitem>
					<simpara>
						With the <literal>employeeList</literal> field selected, open the Red Hat Business Optimizer dock and select the <emphasis role="strong">Planning Value Range Provider</emphasis> box.
					</simpara>
					<simpara>
						In the <emphasis role="strong">id</emphasis> field, type <literal>employeeRange</literal>. Close the dock.
					</simpara>
				</listitem>
				<listitem>
					<simpara>
						Click <emphasis role="strong">Save</emphasis> in the upper right corner to save the asset.
					</simpara>
				</listitem>
			</orderedlist>
		</section>
	</chapter>
</book>

