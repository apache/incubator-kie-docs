[id='controller-install-was-proc']
= Installing the Controller

This section describes how to install the Controller on Oracle Weblogic Server.

You can install the Controller and use the REST API or the {KIE_SERVER} Java Client API to interact with it.

.Prerequisites
* An IBM WebSphere Application Server instance configured as described in this document
* Sufficient user permissions to complete the installation.
* The `rhdm-7.0-controller-ee7.zip` file, extracted to a temporary directory. To download this file:
+
--
.. Click *Download* next to *{PRODUCT} 7.0.0 Add Ons* on the Product Downloads page of the https://access.redhat.com[Red Hat Customer Portal].
.. Unzip the `rhdm-7.0.0.GA-add-ons.zip` file. The `rhdm-7.0-controller-ee7.zip` file is in the unzipped directory.
--

.Procedure
. Click *Applications* -> *Application Types* -> *WebSphere Enterprise Applications*.
+
This shows you all of the existing applications in the system and enables you to install a new one.

. Click *Install*.
. Upload the Controller WAR file (`controller.war`) from the local file system.
. Select *Fast Path* and click *Next*.
+
The *Install New Application* wizard opens.

. Change the *Application Name* to `controller` and click *Next*.
. Map the Controller modules to servers according to your specific requirements and click *Next*.
. In the *Bind Listeners for Message-Driven Beans*, select *Activation Specification* for both beans and enter `jms/activation/KIE.SERVER.REQUEST` in the *Target Resource JNDI Name* field.
. Enter the `jms/conn/KIE.SERVER.REQUEST` JNDI name for the `KIE.SERVER.REQUEST` connection factory.
. In the *Map Virtual Hosts for Web Modules* section, keep the default values and click *Next*.
. Set the context root to `controller`.
. In the *Metadata for Modules* section, keep the default values and click *Next*.
. Click *Finish* to install the controller.
. Click *Save* to save the changes to the master configuration.

== Mapping Groups to Roles

Map the `kie-server` role to a user or a group.

. Go back to the main configuration page for the newly installed `kie-server` application (*Applications* -> *Application Types* -> *WebSphere Enterprise Applications*).
. Click *Security Role to User/Group Mapping* under *Detail Properties*.
. Select the `kie-server` role and click *Map Groups* to search for the `kie-server` group.
. Move the `kie-server` group from the *Available* list to the *Selected* list and click *OK*.

This mapping gives the previously created administrator user access to the {KIE_SERVER}.
. Click *Save* and start the `kie-server` application.

Check whether the {KIE_SERVER} REST API works by sending a GET request at `http://_TARGET_SERVER:PORT_/kie-server/services/rest/server`.
