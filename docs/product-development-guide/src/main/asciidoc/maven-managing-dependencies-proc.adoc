[id='maven_managing_dependencies_proc']
= Managing Maven dependencies

In order to use the correct Maven dependencies in your {PRODUCT} project, you must add relevant Bill Of Materials (BOM) files to the project's `pom.xml` file. Adding the BOM files ensures that the correct versions of transitive dependencies from the provided Maven repositories are included in the project.

See the {URL_INSTALLATION_GUIDE}#supported_comps[Supported Component Versions] chapter of _{INSTALLATION_GUIDE}_ to view the supported BOM components.

Declare the BOM in `pom.xml`. For example:

.BOM for Red Hat JBoss BPM Suite {PRODUCT_VERSION}.0
====
[source,xml]
----
<dependencyManagement>
 <dependencies>
  <dependency>
   <groupId>org.jboss.bom.brms</groupId>
   <artifactId>jboss-brms-bpmsuite-platform-bom</artifactId>
   <version>6.4.2.GA-redhat-2</version>
   <type>pom</type>
   <scope>import</scope>
  </dependency>
 </dependencies>
</dependencyManagement>
<dependencies>
<!-- Your dependencies -->
</dependencies>
----
====

To check the current BOM version, see the {URL_INSTALLATION_GUIDE}#supported_comps[Supported Component Versions] chapter of _{INSTALLATION_GUIDE}_.

Furthermore, declare dependencies needed for your project in the `dependencies` tag.

* For a basic Red Hat JBoss BPM Suite project, declare the following dependencies:
+
[id='_embedded_jbpm_engine_dependencies']
.Embedded jBPM Engine Dependencies
[source,xml]
----
<dependency>
  <groupId>org.jbpm</groupId>
  <artifactId>jbpm-kie-services</artifactId>
</dependency>

<!-- Dependency needed for default WorkItemHandler implementations. -->
<dependency>
  <groupId>org.jbpm</groupId>
  <artifactId>jbpm-workitems</artifactId>
</dependency>

<!-- Logging dependency. You can use any logging framework compatible with slf4j. -->
<dependency>
  <groupId>ch.qos.logback</groupId>
  <artifactId>logback-classic</artifactId>
  <version>${logback.version}</version>
</dependency>

<dependency>
  <groupId>org.kie</groupId>
  <artifactId>kie-api</artifactId>
</dependency>
----

* For a {PRODUCT_BA} project that uses CDI, declare the following dependencies:
+
[id='_cdi_enabled_jbpm_engine_dependencies']
.CDI-Enabled jBPM Engine dependencies 
[source,xml]
----
<dependency>
  <groupId>org.kie</groupId>
  <artifactId>kie-api</artifactId>
</dependency>

<dependency>
  <groupId>org.jbpm</groupId>
  <artifactId>jbpm-kie-services</artifactId>
</dependency>

<dependency>
  <groupId>org.jbpm</groupId>
  <artifactId>jbpm-services-cdi</artifactId>
</dependency>
----

* For a basic {PRODUCT_DM} project, declare the following dependencies:
+
[id='_embedded_drools_engine_dependencies']
.Embedded Drools Engine Dependencies
[source,xml]
----
<dependency>
  <groupId>org.drools</groupId>
  <artifactId>drools-compiler</artifactId>
</dependency>

<!-- Dependency for persistence support. -->
<dependency>
  <groupId>org.drools</groupId>
  <artifactId>drools-persistence-jpa</artifactId>
</dependency>

<!-- Dependencies for decision tables, templates, and scorecards.
For other assets, declare org.drools:drools-workbench-models-* dependencies. -->
<dependency>
  <groupId>org.drools</groupId>
  <artifactId>drools-decisiontables</artifactId>
</dependency>
<dependency>
  <groupId>org.drools</groupId>
  <artifactId>drools-templates</artifactId>
</dependency>
<dependency>
  <groupId>org.drools</groupId>
  <artifactId>drools-scorecards</artifactId>
</dependency>

<!-- Dependency for loading KJARs from a Maven repository using KieScanner. -->
<dependency>
  <groupId>org.kie</groupId>
  <artifactId>kie-ci</artifactId>
</dependency>

<!-- Dependency for loading KJARs from a Maven repository using KieScanner in an OSGi environment. -->
<dependency>
  <groupId>org.kie</groupId>
  <artifactId>kie-ci-osgi</artifactId>
</dependency>

<dependency>
  <groupId>org.kie</groupId>
  <artifactId>kie-api</artifactId>
</dependency>
----
+
Do not use both `kie-ci` and `kie-ci-osgi` in one `pom.xml` file.
* To use the {KIE_SERVER}, declare the following dependencies:
+
[id='_client_application_intelligent_process_server_dependencies']
.Client Application {KIE_SERVER} Dependencies
[source,xml]
----
<dependency>
  <groupId>org.kie.server</groupId>
  <artifactId>kie-server-client</artifactId>
</dependency>
<dependency>
    <groupId>org.kie.server</groupId>
    <artifactId>kie-server-api</artifactId>
</dependency>

<!-- Dependency for Red Hat JBoss BRMS functionality. -->
<dependency>
  <groupId>org.drools</groupId>
  <artifactId>drools-core</artifactId>
</dependency>

<dependency>
  <groupId>org.kie</groupId>
  <artifactId>kie-api</artifactId>
</dependency>
----

* To create a remote client for {PRODUCT_BA} or {PRODUCT_DM}, declare the following dependencies:
+
.Client Dependencies
[source,xml]
----
<dependency>
  <groupId>org.kie.remote</groupId>
  <artifactId>kie-remote-client</artifactId>
</dependency>
----

* To use assets in `KJAR` packaging, the preferred way is to include `kie-maven-plugin`:
+
.Kie Maven Plugin
[source,xml]
----
<!-- BOM does not resolve plugin versioning. Consult section Supported Components of Red Hat JBoss BPM Suite Installation Guide for newest version number. -->

<packaging>kjar</packaging>
<build>
 <plugins>
  <plugin>
   <groupId>org.kie</groupId>
   <artifactId>kie-maven-plugin</artifactId>
   <version>6.5.0.Final-redhat-7</version>
   <extensions>true</extensions>
  </plugin>
 </plugins>
</build>
----
* For testing purposes, declare the following dependencies:
+
[id='_testing_dependencies']
.Testing Dependencies
[source,xml]
----
<!-- JUnit dependency -->
<dependency>
  <groupId>junit</groupId>
  <artifactId>junit</artifactId>
  <version>${junit.version}</version>
  <scope>test</scope>
</dependency>

<!-- Red Hat JBoss BPM Suite integration services dependency -->
<dependency>
  <groupId>org.jbpm</groupId>
  <artifactId>jbpm-shared-services</artifactId>
  <classifier>btm</classifier>
  <scope>test</scope>
</dependency>

<!-- Logging dependency -->
<dependency>
  <groupId>ch.qos.logback</groupId>
  <artifactId>logback-classic</artifactId>
  <version>${logback.version}</version>
  <scope>test</scope>
</dependency>

<!-- Persistence tests dependencies -->
<dependency>
  <groupId>org.hibernate</groupId>
  <artifactId>hibernate-entitymanager</artifactId>
  <version>${hibernate.version}</version>
  <scope>test</scope>
</dependency>
<dependency>
  <groupId>org.hibernate</groupId>
  <artifactId>hibernate-core</artifactId>
  <version>${hibernate.core.version}</version>
  <scope>test</scope>
</dependency>
<dependency>
  <groupId>com.h2database</groupId>
  <artifactId>h2</artifactId>
  <version>${h2.version}</version>
  <scope>test</scope>
</dependency>
<dependency>
  <groupId>org.codehaus.btm</groupId>
  <artifactId>btm</artifactId>
  <version>${btm.version}</version>
  <scope>test</scope>
</dependency>
<dependency>
  <groupId>org.kie</groupId>
  <artifactId>kie-api</artifactId>
</dependency>
----
+
Alternatively, for extensive testing of {PRODUCT}, include the `jbpm-test` dependency. Note that `jbpm-test` includes some of the previous dependencies, for example the `junit` dependency, dependencies required for persistence tests, and others.
+
.Declaring jbpm-test Dependency
[source,xml]
----
<dependency>
  <groupId>org.jbpm</groupId>
  <artifactId>jbpm-test</artifactId>
</dependency>
----
+
To include the `jbpm-test` dependency as part of your KJAR, set the dependency scope to `provided`. Doing so ensures that the dependency is available at runtime, thereby avoiding unresolved dependency errors. The recommended practice is to use only business resources in your KJAR and not include `jbpm-test` dependency in it. It is a best practice to keep the test suite for the KJAR in a separate project.
+

[NOTE]
====
If you are deploying {PRODUCT_DM} or {PRODUCT_BA} on Red Hat JBoss EAP 7, you must make changes to the project BOM files. For more information about the BOM changes, see the https://access.redhat.com/documentation/en-us/red_hat_jboss_bpm_suite/6.4/html-single/migration_guide/#chap_eap_migration[Red Hat JBoss EAP Migration] chapter in the _{MIGRATION_GUIDE}_.

For more information on BOM usage in Red Hat JBoss EAP 7, see the https://access.redhat.com/documentation/en/red-hat-jboss-enterprise-application-platform/7.0/paged/development-guide/chapter-2-using-maven-with-jboss-eap[Using Maven with JBoss EAP] chapter in the _Red Hat JBoss EAP Development Guide_.
====

include::maven-integrated-dependencies-ref.adoc[leveloffset=+1]

