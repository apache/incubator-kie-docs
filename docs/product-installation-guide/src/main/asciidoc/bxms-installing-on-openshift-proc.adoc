[[bxms_installing_on_openshift_proc]]

= Installing {PRODUCT} in an OpenShift Environment
After you have uploaded your product image file to an external Docker repository or an internal OpenShift registry, you must use the OpenShift CLI to install the product image file and templates in OpenShift.

.Prerequisites
* Access to an OpenShift environment.
* The OpenShift CLI installed on your computer, available from the
https://access.redhat.com/downloads/content/290/ver=3.6/rhel---7/3.6.173.0.5/x86_64/product-software[Download Red Hat OpenShift Container Platform] page on the Red Hat Customer Portal.
* The `jboss-bpmsuite-7.0.0.Beta01-openshift.zip` file, available from the site that contains this document, extracted to your hard drive.
* An OpenShift product image uploaded to either and external Docker repository or an internal OpenShift registry. For more information, see <<bxms_openshift_ext_docker_reg_proc>> and <<bxms_openshift_int_reg_proc>>.

.Procedure
. Use the OpenShift CLI to log in to your OpenShift environment.
. Enter the following command to create a new OpenShift project that will contain Red Hat BPM Suite, where `<bpms-project>` is the name of your new project:
+
[source,bash]
----
$ oc new-project <bpms-project>
----
. If your product image is located in an external Docker repository, enter the following command to create image streams in your project, where `<image-streams-path>` is the path to the `application-template\image_streams.json` file in the `zip` archive that you download:
+
[source,bash]
----
$ oc create -f <image-streams-path>/image_streams.json -n <bpms-project>
----
An image stream provides the location of binaries to be installed into OpenShift. If your product image is in the internal registry, you do not need to update the `image_streams.json` file.
+
. Change directory to the `jboss-bpmsuite-7.0.0.Beta01-openshift/application-template` directory.
. Copy the path of the template that you want to install.
+
. Enter a command similar to the following from the directory that contains the OpenShift CLI:
+
[source,bash]
----
$ oc process -n <bpms-project> -f <template-path> -v IMAGE_STREAM_NAMESPACE=<bpms-project> -v KIE_ADMIN_USER=<kie-admin-user> -v KIE_ADMIN_PWD=<kie-admin-user-pw> -v KIE_SERVER_CONTROLLER_USER=<kie-server-controller> -v KIE_SERVER_CONTROLLER_PWD=<kie-server-controller-pwd> -v KIE_SERVER_USER=<kie-server-user> -v KIE_SERVER_PWD=<kie-server-user-pw> | oc create -n <bpms-project> -f - 
----
In this command, replace the following variables:
* Replace `<bpms-project>` with the name of your project.
* Replace `<template-path>` with the path of the template that you want to install. 
* Replace `<kie-admin-user>` with the {PRODUCT} administrator user name.
* Replace `<kie-admin-user-pw>` with a password for the {PRODUCT} administrator user.
* Replace `<kie-server-controller>` with a password for the {PRODUCT}  server controller.
* Replace `<kie-server-controller-pwd>` with a password for the {PRODUCT}  server controller.
* Replace `<kie-server-user>` with the name of a KIE server user.
* Replace `<kie-server-user-pw>` with the password for the KIE server user
+

[NOTE]
====
View the template JSON file for a list of all of the available parameters and their attributes. Some parameters that are not listed here may be required.
====

