<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE book [
<!ENTITY % BOOK_ENTITIES SYSTEM "master.ent">
%BOOK_ENTITIES;
<!ENTITY % sgml.features "IGNORE">
<!ENTITY % xml.features "INCLUDE">
<!ENTITY % DOCBOOK_ENTS PUBLIC "-//OASIS//ENTITIES DocBook Character Entities V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/dbcentx.mod">
%DOCBOOK_ENTS;
]>
<book version="5.0" xml:lang="en-US" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
	<?asciidoc-toc ?><?asciidoc-numbered ?>
	<info>
		<title>Migrating from Red Hat BRMS 6.4 to Red Hat Decision Manager 7.0</title>
		<subtitle> For Red Hat Decision Manager 7.0 </subtitle>
		 <date>2018-01-17</date>
		<xi:include href="Author_Group.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
		<authorinitials>RC</authorinitials><productname>Red Hat Decision Manager</productname>
		<productnumber>7.0</productnumber>
		<abstract>
			<para>
				This guide describes how to migrate user data and APIs from Red Hat BRMS 6.4 to Red Hat Decision Manager 7.0.
			</para>
		</abstract>
		<xi:include href="Common_Content/Legal_Notice.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
	</info>
	<preface>
		<title>Preface</title>
		<simpara>
			COMMENT: This guide is currently a draft outline only.
		</simpara>
		<simpara>
			If you have a Red Hat BRMS 6.4 project that you want to use in Red Hat Decision Manager 7.0, you must first migrate your APIs and data.
		</simpara>
		<formalpara>
			<title>Prerequisite</title>
			<para>
				You have a Red Hat BRMS 6.4 project that you want to use in Red Hat Decision Manager 7.0.
			</para>
		</formalpara>
	</preface>
	<chapter xml:id="migration-plan-proc">
		<title>Plan the Migration</title>
		<simpara>
			There is no upgrade path from BRMS 6.4 to Red Hat Decision Manager 7.0. To migrate from BRMS 6.x to Red Hat Decision Manager 7.0, perform the steps in the following sections:
		</simpara>
		<itemizedlist>
			<listitem>
				<simpara>
					Install Red Hat Decision Manager 7.0
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					Upgrade 6.x user applications
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					Migrate user data
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					Review sum functions
				</simpara>
			</listitem>
		</itemizedlist>
		<note>
			<simpara>
				KJARS created with BRMS 6.x are not supported with Red Hat Decision Manager 7.0.
			</simpara>
		</note>
	</chapter>
	<chapter xml:id="migration-install-dm-proc">
		<title>Install Red Hat Decision Manager 7.0</title>
		<simpara>
			You must install Red Hat Decision Manager 7.0, either on premise or on OpenShift. COMMENT: (Add links to those stories.)
		</simpara>
	</chapter>
	<chapter xml:id="migration-upgrade-api-proc">
		<title>Upgrade 6.x User Applications</title>
		<simpara>
			You must upgrade applications created in BRMS 6.4 before you run them in Red Hat Decision Manager 7.0. When you compile a 6.4 application using Decision Manager 7.0 artifacts, the compilation will fail. Review the error report generated by the compilation to identify areas to fix.
		</simpara>
		<section xml:id="migration-add-cdi-depend-proc">
			<title>Adding the CDI dependency</title>
			<simpara>
				The CDI extension that provides the capability to inject a KIE object into your project has been moved from the drools-compiler to a standalone module. Therefore, you must add a dependency on org.drools:drools-cdi to your Red Hat BRMS 6.4 projects. If you do not add this dependency, the extension will not be recognized by the CDI implementation and the injection will not work.
			</simpara>
		</section>
	</chapter>
	<chapter xml:id="migration-user-data-proc">
		<title>Migrate User Data</title>
		<simpara>
			Projects and assets created in Business Central are stored in the underlying repository that is managed by Business Central.
		</simpara>
		<section xml:id="migration-move-repo-proc">
			<title>Manually moving the 6.x repository</title>
			<simpara>
				When you install Red Hat Decision Manager 7.0, you will not have a repository. You must manually move your 6.4 repository to the 7.0 installation.
			</simpara>
		</section>
		<section xml:id="migration-update-repo-contents-proc">
			<title>Updating the contents of the repository</title>
			<simpara>
				You must update the contents of the repository to reflect the changes in Red Hat Decision Manager 7.0 that affect the underlying assets that are managed in Business Central.
			</simpara>
		</section>
	</chapter>
	<chapter xml:id="migration-sum-accumulate-proc">
		<title>Review sum functions</title>
		<simpara>
			In Red Hat BRMS 6.4, when a rule executed the sum function in an accumulate pattern the result was always return as a double data type regardless of the data type of the inputs. Red Hat Decision Manager 7.0 preserves the data type of the inputs on which the sum is executed. This enhancement provides a more accurate result from the sum function, as shown in the following example:
		</simpara>
		
<screen>Long(...) from accumulate(..., sum($p.getLongWeight()))</screen>
		<simpara>
			If the rules in your Red Hat BRMS 6.4 project include the sum function in an accumulate pattern, search for these functions and review them. Keep in mind that these functions returned a double data type in Red Hat BRMS 6.4, but will return the data type of the input values in Red Hat Decision Manager 7.0.
		</simpara>
	</chapter>
	<chapter remap="_next_steps" xml:id="next_steps">
		<title>Next Steps</title>
		<itemizedlist>
			<listitem>
				<simpara>
					For information about changes in the Business Central environment, see the Getting Started guide (linked).
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					For information about users, roles, and groups, see the Installing Red Hat Decision Manager 7.0 on Premise guide (linked).
				</simpara>
			</listitem>
		</itemizedlist>
	</chapter>
	<appendix remap="_versioning_information" xml:id="versioning_information">
		<title>Versioning information</title>
		<simpara>
			Documentation last updated on: Fri Sep 29, 2017.
		</simpara>
	</appendix>
</book>

