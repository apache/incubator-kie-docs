[id='dec-table-create-proc']
= Creating a speed violation guided decision table

The following chapter instructs you how to create a speed violation decision table in {PRODUCT} using the Guided Decision Table wizard.

[float]
== Prerequisite

Created both the Violation and Driver data objects.

.Procedure
. Log in to {CENTRAL}. Click *Menu* -> *Design* -> *Projects*, then *Driver department traffic violations*.
. Click *Create New Asset* -> *Guided Decision Table*, then enter:

* *Guided Decision Table*: `SpeedViolationRule`
* *Package*: `org.jboss.example.traffic_violations`
+

. Select *Unique Hit* from the *Hit Policy* pull-down menu.
. Select *Extended entry, values defined in table body* in the *Table format* section.
. Click *Ok* to open the *Guided Decision Tables* designer.
+

.Guided Decision Tables designer
image::dec-table.png[]

== Inserting Violation columns

. Click *Columns* -> *Insert Column* and select *Include advanced options*.
. Select *Add an Attribute column* and click *Next*.
+

.Add a new column window
image::new-column.png[]
. Select *Ruleflow-group* and click *Finish*.
. Expand *Attribute columns* and enter `trafficViolation` in the *Default value* field.
+

.Attribute columns window
image::attrib-column.png[]
. Click *Insert Column*, select *Add a Condition* -> *Pattern* -> *+Create a new Fact Pattern*.
. Select *Violation* from the *Fact type* pull-down menu, enter `v` in the *Binding* field, and click *+OK*.
+

.Create a new fact pattern window
image::fact-pattern.png[]
. Select *Calculation type* -> *Literal value*.
. Select *Field* and then *type* from the *Field* pull-down menu.
. Select *Operator* and then *equal to* from the *Operator* pull-down menu.
. Select *Value options* and enter `Driving while intoxicated,DWI=Driving while under the influence of drugs` in the *Value list (optional)* field.
. Select *Additional info*, enter `Violation Type` in the *Header (description)* field, and click *Finish*.
+

.Violation Type header
image::violation-columns.png[]
. Click *Insert Column*, select *Add a Condition* -> *Pattern* and select *Violation[v]* from the *Pattern* pull-down menu.
. Select *Calculation type* -> *Predicate* -> *Field* and enter `actualSpeed-speedLimit > $param`.
. Select *Value options*, then select *Additional info* and enter `Speed Limit (MPH) >` in the *Header (description)* field.
. Click *Finish*.
+

.Speed Limit (MPH) > header
image::speed-header.png[]
. Click *Insert Column*, select *Add a Condition* -> *Pattern* and select *Violation[v]* from the *Pattern* pull-down menu.
. Select *Calculation type* -> *Predicate*.
. Select *Field* and enter `actualSpeed-speedLimit < $param` in the *Field* field.
. Select *Operator*, select *Value options*, then select *Additional info*.
. Enter `Speed Limit (MPH) <` in the *Header (description)* field and click *Finish*.
+

.Speed Limit (MPH) < header
image::speed-less-header.png[]

== Inserting Result columns

. Click *Insert Column*, select *Set the value of a field* -> *Pattern* and select *Violation[v]* from the *Pattern* pull-down menu.
. Select *Field* and then *fineAmount* from the *Field* pull-down menu.
. Select *Value options*, then select *Additional info* and enter `Fine Amount` in the *Header (description)* field.
. Select the *Update engine with changes* option and click *Finish*.
+

.Fine Amount header
image::fine-amount.png[]
. Click *Insert Column*, select *Set the value of a field* -> *Pattern* and select *Violation[v]* from the *Pattern* pull-down menu.
. Select *Field* and then *points* from the *Field* pull-down menu.
. Select *Value options*, then select *Additional info* and enter `Points` in the *Header (description)* field.
. Select the *Update engine with changes* option and click *Finish*.
+

.Point Amount header
image::point-amount.png[]
. Click *Columns*, expand *Attribute columns*, and select the *Hide column* option.
+

.Column attributes
image::hide-column.png[]
. Click *Editor* -> *Insert* -> *Append row*. Repeat this step to add a total of four table rows.
+

.Appending rows
image::append-row.png[]
. Fill out the table as shown in the following example.
+

.Populated data fields
image::guided-dt.png[]
. Click *Save*, then click *Save* to confirm your changes.
