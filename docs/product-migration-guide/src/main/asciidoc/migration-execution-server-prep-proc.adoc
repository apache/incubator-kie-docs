[id='migration-execution-server-prep-proc']

= Preparing {CENTRAL} for migration

Before you can migrate decision service data from {PRODUCT_OLD} 6.4, you must add to the new {CENTRAL} a server template and KIE containers corresponding to {PRODUCT_OLD} process deployments.

.Procedure
. Start {PRODUCT_OLD} according to your installation (example, `$EAP_HOME/bin/standalone.sh`) and log in to {CENTRAL}.
. Navigate to *Deploy -> Process Deployments* and note the *Deployment* identifier and other details for your deployed processes. This information will be required when you prepare the new {CENTRAL} in {PRODUCT} {PRODUCT_VERSION} for migration.
. Close {CENTRAL} and stop {PRODUCT_OLD} according to your installation.
. Start {PRODUCT} {PRODUCT_VERSION} according to your installation (example, `$EAP_HOME/bin/standalone.sh`) and log in to the new {CENTRAL}. This distribution of {CENTRAL} does not yet contain your project data or live instances, but needs to be prepared for the execution server migration.
. Navigate to *Menu -> Deploy -> Execution Servers -> New Server Template* and define a new server template (example, `myserver`). This template will be used by the new {KIE_SERVER} to manage the deployments currently on the {CENTRAL} execution server.
. Select the new template, click *Add Container*, and add a container for each of the deployments on the execution server. Name each container with the exact deployment identifier from {PRODUCT_OLD} (example, `org.jbpm:HR:1.5`).
+
IMPORTANT: Each KIE container name in the server template must match exactly the deployment identifier for the deployment on the execution server. If they do not match, then the deployed instances will not be migrated to the new {KIE_SERVER} properly.

. Close {CENTRAL} and stop both {PRODUCT_OLD} (if not stopped already) and {PRODUCT} server instances based on how you started them.
+
--
Example:
[source]
----
$ ~/$EAP_HOME/bin/jboss-cli.sh --connect command=:shutdown
----
--
