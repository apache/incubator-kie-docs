<?xml version="1.0" encoding="UTF-8"?>
<section version="5.0" xmlns="http://docbook.org/ns/docbook"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:svg="http://www.w3.org/2000/svg"
         xmlns:m="http://www.w3.org/1998/Math/MathML"
         xmlns:html="http://www.w3.org/1999/xhtml"
         xmlns:db="http://docbook.org/ns/docbook">
  <title>BatchExecutionCommand</title>

  <para></para>

  <itemizedlist>
    <listitem>
      <para>Description: The main command, used to group a set of commands to
      are going to be executed.</para>
    </listitem>

    <listitem>
      <para>Attributes</para>

      <table>
        <title>BatchExecutionCommand attributes</title>

        <tgroup cols="3">
          <colspec align="center" />

          <thead>
            <row>
              <entry align="center">Name</entry>

              <entry align="center">Description</entry>

              <entry align="center">required</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry>lookup</entry>

              <entry>Sets the knowledge session id on which the commands are
              going to be executed</entry>

              <entry>true</entry>
            </row>

            <row>
              <entry>commands</entry>

              <entry>List of commands to be executed</entry>

              <entry>false</entry>
            </row>

          </tbody>
        </tgroup>
      </table>
    </listitem>

    <listitem>
      <para>Command creation<programlisting>BatchExecutionCommand command = new BatchExecutionCommand();
command.setLookup("ksession1");
InsertObjectCommand insertObjectCommand = new InsertObjectCommand(new Person("john", 25));
FireAllRulesCommand fireAllRulesCommand = new FireAllRulesCommand();
command.getCommands().add(insertObjectCommand);
command.getCommands().add(fireAllRulesCommand);
String xml = BatchExecutionHelper.newXStreamMarshaller().toXML(command);</programlisting></para>

      <para></para>
    </listitem>

    <listitem>
      <para>XML output</para>

      <itemizedlist>
        <listitem>
          <para>XStream</para>

          <para><programlisting>&lt;batch-execution lookup="ksession1"&gt;
  &lt;insert&gt;
    &lt;org.drools.test.Person&gt;
      &lt;name&gt;john&lt;/name&gt;
      &lt;age&gt;25&lt;/age&gt;
    &lt;/org.drools.test.Person&gt;
  &lt;/insert&gt;
  &lt;fire-all-rules/&gt;
&lt;/batch-execution&gt;</programlisting></para>

          <para></para>
        </listitem>

        <listitem>
          <para>JSON</para>

          <para><programlisting>{"batch-execution":{"lookup":"ksession1","commands":[{"insert":{"object":{"org.drools.test.Person":{"name":"john","age":25}}}},{"fire-all-rules":""}]}} </programlisting></para>

          <para></para>
        </listitem>

        <listitem>
          <para>JAXB</para>

          <para><programlisting>TODO</programlisting></para>

          <para></para>
        </listitem>
      </itemizedlist>
    </listitem>
  </itemizedlist>

  <para></para>
</section>
