[id='nfs-server-configure-proc_{context}']

= Configuring an NFS version 4 server

An NFS version 4 server with a shared file system is required for a {CENTRAL} clustered environment and each client node must have access to the shared file system.

.Procedure

. Configure a server to export NFS version 4 shares. For instructions about exporting NFS shares on Red Hat Enterprise Linux, see _Exporting NFS shares_ in https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_file_systems/index[_Managing file systems_]. For more information about creating the NFS server, see https://access.redhat.com/solutions/1355233[_How to configure NFS in RHEL 7_].

. On the server, open the `/etc/exports` file in a text editor.

. Add the following line to the `/etc/exports` file where  `<IP_ADDRESSES>` is a comma-separated listed of IP addresses that are allowed to connect to the server:
//is comma-separated correct?
+
[subs="attributes,verbatim,macros"]
----
/opt/kie/data <IP_ADDRESSES> (rw,sync,no_root_squash)
----
+
For example:
+
----
/opt/kie/data 192.268.1.0/24(rw,sync,no_root_squash)
----
+
Doing this creates an `/opt/kie/data` share with the `rw,sync,no_root_squash` options which are the minimum options required for NFS.
+
[NOTE]
====
You can use a different share name instead of `/opt/kie/data`. If you do, you must use the different name when configuring all nodes that run {CENTRAL}.
====
