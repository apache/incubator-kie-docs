= BPMN2 subprocesses in process designer 

A subprocess is a activity that contains nodes. You can embed part of the main process within a subprocess. You can also include variable definitions within the the subprocess that are accessible to all nodes inside the subprocess. 

A subprocess must have one incoming connection and one outgoing connection. If you use a Terminating end event inside a subprocess, the entire process instance that contains the subprocess is terminated, not just the subprocess. A subprocess ends when there are no more active elements in it.

The following subprocess types are supported in {RHPAM}:

* Embedded subprocess, which is a part of the parent process execution and shares its data.
* Ad-Hoc subprocess, which has no strict element execution order.
* Reusable subprocess, which is independent from its parent process.
* Event subprocess, which is only triggered on a start event or a timer.
* Multi-instance subprocess

In the following example, the Place Order subprocess checks whether there is sufficient stock to place the order and updates the stock information if the order can be placed. The customer is then notified through the main process based on whether or not the order was placed.

image:BPMN2/bpmn-subprocesses.png[]

.Embedded Sub-Process

An embedded subprocess encapsulates a part of the process. It must contain a start event and at least one end event. Note that the element allows you to define local subprocess variables, that are accessible to all elements inside this container.

[[_adhoc_sub_process]]
.AdHoc Sub-Process

An Ad-Hoc Sub-Process or Process contains a number of embedded inner Activities and is intended to be executed with a more flexible ordering compared to the typical routing of Processes. Unlike regular Processes, it does not contain a complete, structured BPMN2 diagram descriptioni.e., from start event to End Event. Instead the Ad-Hoc Sub-Process contains only Activities, Sequence Flows, Gateways, and Intermediate Events. An Ad-Hoc Sub-Process MAY also contain Data Objects and Data Associations. The Activities within the Ad-Hoc Sub- Process are not REQUIRED to have incoming and outgoing Sequence Flows. However, it is possible to specify Sequence Flows between some of the contained Activities. When used, Sequence Flows will provide the same ordering constraints as in a regular Process. To have any meaning, Intermediate Events will have outgoing Sequence Flows and they can be triggered multiple times while the Ad-Hoc Sub-Process is active.


.Reusable subprocess
Reusable subprocesses appear collapsed within the containing process, and its elements are not visible until a plus sign at the lower edge of the rounded rectangle is clicked.




[[_event_sub_process]]
.Event sub-process


An event subprocess becomes active when its start event gets triggered. It can interrupt the parent process context or run in parallel to it.

With no outgoing or incoming connections, only an event or a timer can trigger the subprocess. The subprocess is not part of the regular control flow.
Although self-contained, it is executed in the context of the bounding subprocess.

Use an event subprocess within a process flow to handle events that happen outside of the main process flow.
For example, while booking a flight, two events may occur:

* Cancel booking (interrupting).
* Check booking status (non-interrupting).

Both these events can be modeled using the event subprocess.

[[_multiple_instances]]
.Multi-instance Sub-Process

A Multiple Instances Sub-Process is instantiated multiple times when its execution is triggered. The instances are created in a sequential manner, that means a new subprocess instance is created only after the previous instance has finished.

A Multiple Instances Sub-Process has one incoming connection and one outgoing connection.