[id='proc-kogito-deploying-on-ocp-kogito-cli_{context}']
= Deploying {PRODUCT} services on OpenShift using the {PRODUCT} CLI

The {PRODUCT} command-line interface (CLI) enables you to interact with the {PRODUCT} Operator for deployment tasks. The {PRODUCT} CLI also enables you to deploy {PRODUCT} services from source instead of relying on custom resources and YAML files. You can use the {PRODUCT} CLI as a command-line alternative for deploying {PRODUCT} services without the {OPENSHIFT} web console.

.Prerequisites
* The `oc` OpenShift CLI is installed and you are logged in to the relevant OpenShift cluster. For `oc` installation and login instructions, see the
ifdef::KOGITO[]
https://access.redhat.com/documentation/en-us/openshift_container_platform/4.2/html/cli_tools/openshift-cli-oc[OpenShift documentation].
endif::[]
ifdef::KOGITO-COMM[]
https://docs.openshift.com/container-platform/4.2/cli_reference/openshift_cli/getting-started-cli.html[OpenShift documentation].
endif::[]
* You have OpenShift permissions to create resources in a specified namespace.

.Procedure
. Go to the https://github.com/kiegroup/kogito-cloud-operator/releases[`{PRODUCT_INIT}-cloud-operator`] releases page in GitHub and download the latest version of the `{PRODUCT_INIT}-cli-_RELEASE_` binary file that is specific to your operating system.
. Extract the `{PRODUCT_INIT}-cli-_RELEASE_` binary file to a local directory:
+
--
* On Linux or Mac: In a command terminal, navigate to the directory where you downloaded the `{PRODUCT_INIT}-cli-_RELEASE_` binary file and enter the following command to extract the contents:
+
.Extract the {PRODUCT} CLI distribution
[source,subs="attributes+,+quotes"]
----
$ tar -xvf {PRODUCT_INIT}-cli-_RELEASE_.tar.gz
----

* On Windows: In your file browser, navigate to the directory where you downloaded the `{PRODUCT_INIT}-cli-_RELEASE_` binary file and extract the ZIP file.

The `{PRODUCT_INIT}` executable file appears.
--
. Move the extracted `{PRODUCT_INIT}` file to an existing directory in your `PATH` variable:
+
--
* On Linux or Mac: In a command terminal, enter the following command:
+
.Move the `{PRODUCT_INIT}` file
[source,subs="attributes+,+quotes"]
----
$ cp /__PATH_TO_{PRODUCT_INIT_CAP}__ /usr/local/bin
----

* On Windows: Update the relevant `PATH` environment variables in your system settings to include the path to the {PRODUCT} CLI folder. For example, on Windows 10, go to *Settings* -> *System Info* -> *Advanced System Settings* -> *Advanced* -> *Environment Variables* and in the *User* or *System* variables, add the path for the {PRODUCT} CLI folder to the `PATH` variable. Close and reopen your Windows command prompt to apply the changes.
--
. With the {PRODUCT} CLI now installed, enter the following commands to deploy your {PRODUCT} services on OpenShift from source:
+
--
NOTE: You must be logged in to the relevant OpenShift cluster using the `oc login` command.

.Example {PRODUCT} service deployment from existing namespace
[source,subs="attributes+,+quotes"]
----
// Uses the provisioned namespace in your OpenShift cluster
$ {PRODUCT_INIT} use-project __PROJECT_NAME__

// Deploys a new {PRODUCT} service from a Git source
$ {PRODUCT_INIT} deploy-service example-quarkus https://github.com/kiegroup/kogito-examples --context-dir process-quarkus-example
----

The {PRODUCT} Operator uses the default branch in the specified Git repository, usually `master`.

NOTE: The first time that you use the {PRODUCT} CLI to interact with a project or service, the {PRODUCT} Operator is automatically installed and used to execute the relevant tasks.

Alternatively, you can generate a new namespace in your cluster during deployment:

.Example {PRODUCT} service deployment from new namespace
[source,subs="attributes+,+quotes"]
----
// Creates a new namespace in your cluster
$ {PRODUCT_INIT} new-project __NEW_PROJECT_NAME__

// Deploys a new {PRODUCT} service from a Git source
$ {PRODUCT_INIT} deploy-service example-quarkus https://github.com/kiegroup/kogito-examples --context-dir process-quarkus-example
----

You can also combine the commands to create the namespace and deploy the service using the following abbreviated syntax:

.Abbreviated command for {PRODUCT} service deployment
[source,subs="attributes+,+quotes"]
----
$ {PRODUCT_INIT} deploy-service example-quarkus https://github.com/kiegroup/kogito-examples --context-dir process-quarkus-example --project __PROJECT_NAME__
----
--
