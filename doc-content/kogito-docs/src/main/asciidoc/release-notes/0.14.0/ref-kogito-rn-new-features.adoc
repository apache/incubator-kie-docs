[id='ref-kogito-rn-new-features_{context}']
= New features in {PRODUCT} {PRODUCT_VERSION}

The following sections describe some of the new features or enhancements in {PRODUCT} {PRODUCT_VERSION}.

== {PRODUCT} runtimes

=== New Process Instance Read Mode in {PRODUCT} runtimes

You can now use define the process instance read mode when interacting with processes via `ProcessInstances` interface.
There are two supported modes now: `ProcessInstanceReadMode.MUTABLE` and `ProcessInstanceReadMode.READ_ONLY`.
In practice, we're only adding the read only variant, as mutable is the original behaviour.
When loading instances via read only mode, this will hint the engine to by pass all the initialization needed for ensuring that the process
instance can execute any action that will affect its state. The read only mode becomes then more optimized for checking the current state of a process, including its variables.

Default behaviour in `ProcessInstances`, aka loading instances from the different persistence mechanisms.

- `findById`: Loads a specific process instance in `MUTABLE` mode.
- `values`: Loads all process instance in `READ_ONLY` mode.

Furthermore, these two methods are overloaded to allow uses to specify the read mode, to teak based on specific needs.

.Process Instances read mode
[source, java]
----
public interface ProcessInstances<T> {

    default Optional<ProcessInstance<T>> findById(String id) {
            return findById(id, ProcessInstanceReadMode.MUTABLE);
        }

    Optional<ProcessInstance<T>> findById(String id, ProcessInstanceReadMode mode);

    default Collection<ProcessInstance<T>> values(){
        return values(ProcessInstanceReadMode.READ_ONLY);
    }
    
    Collection<ProcessInstance<T>> values(ProcessInstanceReadMode mode);
    
}
----

Which `ProcessInstanceReadMode` should I use?

In general, this is hidden by the {PRODUCT} runtime API, but in case you have a specific need to access this directly,
we recommend using `READ_ONLY` for any scenario where you're just interested in checking the current state of a process instance.
That will allow the {PRODUCT} runtime to retrieve it in a more resource efficiently manner.
Note that if you try to execute operations in process instance loaded in `READ_ONLY` mode, that will cause the {PRODUCT} runtime to behave unexpectedly.
In case you need to perform operations to a process instance, such as aborting, updating variables, etc, you should use `MUTABLE` mode.

== {PRODUCT} Operator and CLI

=== Improved/new bla bla

Description

== {PRODUCT} supporting services

=== Improved/new bla bla

Description

== {PRODUCT} tooling

=== Improved/new bla bla

Description
