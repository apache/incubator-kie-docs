[id='proc-dmn-included-models-pmml_{context}']
= Including PMML models within a DMN file in the {PRODUCT} VSCode DMN modeler

In the {PRODUCT} DMN modeler in VSCode, you can include Predictive Model Markup Language (PMML) models from your project in a specified DMN file. When you include a PMML model within a DMN file, you can invoke that PMML model as a boxed function expression for a DMN decision node or business knowledge model node. If you update the source file for an included PMML model, you must remove and re-include the PMML model in the DMN file to apply the source changes.

You cannot include PMML models from different directories within your {PRODUCT} project or from other {PRODUCT} projects.

.Prerequisites
* The PMML models are created or imported (as `.pmml` files) in the same directory of your {PRODUCT} project as the DMN file in which you want to include the models, such as in `src/main/resources`.


.Procedure
. In your VSCode IDE, open the DMN file to view the decision requirements diagram (DRD) in the {PRODUCT} DMN modeler.
+
--
If the DRD does not open in the {PRODUCT} DMN modeler, ensure that you have installed and enabled the *{PRODUCT} Bundle* VSCode extension.

If the {PRODUCT} DMN modeler opens only the XML source of the DMN file and displays an error message, review the reported errors and the DMN model file to ensure that all DMN elements are correctly defined.
--
. In the DMN modeler, click the *Included Models* tab.
. Click *Include Model*, select a PMML model from your directory in the *Models* list, enter a unique name for the included model, and click *Include*:
+
--
.Including a PMML model
image::kogito/dmn/dmn-include-model-pmml.png[]

The PMML model is added to this DMN file:

.DMN file with included PMML model
image::kogito/dmn/dmn-include-model-list-pmml.png[]
--
. In the *Editor* tab of the DMN modeler, select or create the decision node or business knowledge model node in which you want to invoke the PMML model and click the *Edit* icon to open the DMN boxed expression editor:
+
--
.Opening a new decision node boxed expression
image::kogito/dmn/dmn-decision-edit.png[]

.Opening a new business knowledge model boxed expression
image::kogito/dmn/dmn-bkm-edit.png[]
--
. Set the expression type to *Function* (default for business knowledge model nodes), click the upper-left function cell, and select *PMML*.
. In the *document* and *model* rows in the table, double-click the undefined cells to specify the included PMML document and the relevant PMML model within that document:
+
--
.Adding a PMML model in a DMN business knowledge model
image::kogito/dmn/dmn-include-model-expression-pmml.png[]

.Example PMML definition in a DMN business knowledge model
image::kogito/dmn/dmn-function-expression-example5.png[]

If you update the source file for an included PMML model, you must remove and re-include the PMML model in the DMN file to apply the source changes.

To edit the included model name or to remove the included model from the DMN file, use the *Included Models* tab in the DMN modeler.
--
