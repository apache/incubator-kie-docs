[id='drools-ecj']

== Descope Eclipse Java Compiler

The {DECISION_ENGINE} relies on the in-memory compilation to generate the Java sources automatically. When it comes to the
executable rule model, the automatic generation of Java sources has become more relevant. The {DECISION_ENGINE} used to perform
the in-memory compilation using Eclipse Java Compiler (default) or using the compiler provided by the JDK since Java 7.

To better modularize the {DECISION_ENGINE} and descope the optional features, the Eclipse Java Compiler and its specific
implementation code is moved to an individual module named `drools-ecj`. To keep the behavior of {DECISION_ENGINE} fully
backward compatible, `drools-compiler` depends by default on this new module `drools-ecj`. However the {DECISION_ENGINE}
can also perfectly work without it, so explicitly excluding `drools-ecj` from the classpath has the effect of making {DECISION_ENGINE}
to automatically switch to use the native Java compiler and perform all the required in-memory compilation through it.

The main reasons why it has been decided to keep the Eclipse Java Compiler as the default compiler for {DECISION_ENGINE} are
that the Java compiler natively provided with the JDK is generally a bit slower and doesn't work well in modularized environment
like OSGi or JBoss modules.